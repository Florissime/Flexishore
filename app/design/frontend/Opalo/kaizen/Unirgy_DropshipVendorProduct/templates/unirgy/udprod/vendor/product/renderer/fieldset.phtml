<?php
$isCfg = $this->getElement()->getId() == 'configurable';
$elements = $this->getElement()->getElements()->getIterator();
$topElements = $this->getElement()->getTopColumn();
$bottomElements = $this->getElement()->getBottomColumn();
$lcElements = $this->getElement()->getLeftColumn();
$rcElements = $this->getElement()->getRightColumn();
?>
<div class="panel">
  <div class="panel-heading"><?php echo $this->getElement()->getLegend() ?></div>
  <div class="panel-body">

    <?php if (!empty($topElements)): ?>
    <?php foreach($topElements as $wideElement): ?>
    <div class="form-group" id="<?php echo $wideElement.'-container'?>" class="wide" <?php if ($this->isHidden($wideElement)) echo 'style="display: none;"' ?>>
    <?php echo $this->getChildElementHtml($wideElement); ?>
    </div>
    <?php endforeach ?>
    <?php endif ?>
    
    <div class="row">
      <div class="col-sm-6">
        <?php if (!empty($lcElements)): ?>
        <?php foreach($lcElements as $lcElement): ?>
        <div class="form-group" id="<?php echo $lcElement.'-container'?>">
        <?php echo $this->getChildElementHtml($lcElement); ?>
        </div>
        <?php endforeach ?>
        <?php endif ?>
      </div>
      <div class="col-sm-6">
        <?php if (!empty($rcElements)): ?>
        <?php foreach($rcElements as $rcElement): ?>
        <div class="form-group" id="<?php echo $rcElement.'-container'?>">
        <?php echo $this->getChildElementHtml($rcElement); ?>
        </div>
        <?php endforeach ?>
        <?php endif ?>
      </div>
    </div>
    
    <?php if (!empty($bottomElements)): ?>
    <?php foreach($bottomElements as $wideElement): ?>
    <div class="form-group" id="<?php echo $wideElement.'-container'?>" class="wide" <?php if ($this->isHidden($wideElement)) echo 'style="display: none;"' ?>>
    <?php echo $this->getChildElementHtml($wideElement); ?>
    </div>
    <?php endforeach ?>
    <?php endif ?>
  </div>
</div>
